(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(n,e,t){n.exports=t(49)},45:function(n,e,t){},49:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),i=t(15),c=t.n(i),o=t(17),u=t(7),l=t(28),d=t(14),s={incidents:[],isLoading:!1,error:"",filterBy:""};var f=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"LOAD_INDEX_REQUEST":return Object(d.a)({},n,{isLoading:!0,error:""});case"LOAD_INDEX_SUCCESS":return Object(d.a)({},n,{isLoading:!1,incidents:e.incidents||[]});case"LOAD_INDEX_FAILURE":return Object(d.a)({},n,{isLoading:!1,error:e.error});case"FILTER_INDEX":return Object(d.a)({},n,{filterBy:e.filterBy});default:return n}},p={},m=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;arguments.length>1&&arguments[1];return n},b=Object(u.combineReducers)({index:f,details:m}),h=t(29);t(45);var g=t(8),v=t(9),O=t(11),x=t(10),E=t(12),j=t(2),y=t(3),D=t(51),w=t(53),k=t(52),L=t(34);function I(){var n=Object(j.a)(["\n  height: 44px;\n  width: 100px;\n  border: 1px solid #000;\n  margin-left: 15px;\n  box-shadow: 2px 2px;\n\n  &:active {\n    box-shadow: 0 0;\n  }\n"]);return I=function(){return n},n}function _(){var n=Object(j.a)(["\n  height: 40px;\n  width: 300px;\n  line-height: 1;\n  font-size: 16px;\n  vertical-align: middle;\n  padding-left: 5px;\n"]);return _=function(){return n},n}function S(){var n=Object(j.a)(["\n  font-size: 16px;\n  display: flex;\n  align-items: center;\n"]);return S=function(){return n},n}var C=y.a.div(S()),N=y.a.input(_()),U=y.a.button(I());var A=function(n){var e=n.onSearch,t=n.placeholder,i=void 0===t?"":t,c=n.className,o=Object(r.useState)(""),u=Object(L.a)(o,2),l=u[0],d=u[1];return a.a.createElement(C,{className:c},a.a.createElement(N,{placeholder:i,onChange:function(n){return d(n.target.value)},onKeyUp:function(n){"Enter"===n.key&&e(l)}}),a.a.createElement(U,{onClick:function(){return e(l)}},"Find cases"))},B="https://bikewise.org/api/v2/",R=function(n){if(!n.ok)throw new Error("".concat(n.status,": ").concat(n.statusText));return n.json()};var X=t(23),F=Object(X.a)(function(n){return n.index.incidents},function(n){return n.index.filterBy},function(n,e){return e?n.filter(function(n){return n.title.toLowerCase().includes(e.toLowerCase())}):n}),T=Object(X.a)(F,function(n){return n.length}),z=function(n){return n.index.isLoading},J=function(n){return n.index.error},M=t(50),P=t(32);function Q(){var n=Object(j.a)(["\n  align-self: flex-end;\n"]);return Q=function(){return n},n}function K(){var n=Object(j.a)(["\n  display: flex;\n  margin-bottom: 30px;\n"]);return K=function(){return n},n}function W(){var n=Object(j.a)(["\n  padding-top: 15px;\n  margin-bottom: 15px;\n  flex: 1;\n"]);return W=function(){return n},n}function q(){var n=Object(j.a)(["\n  border: 1px solid #000;\n  width: 150px;\n  height: 150px;\n  flex: 0 0 auto;\n"]);return q=function(){return n},n}function G(){var n=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  padding-left: 15px;\n  flex: 1;\n"]);return G=function(){return n},n}function H(){var n=Object(j.a)(["\n  display: flex;\n  height: 200px;\n  padding: 30px 15px;\n  border: 3px solid #000;\n  margin-bottom: 30px;\n"]);return H=function(){return n},n}var V=y.a.div(H()),Y=y.a.div(G()),Z=y.a.img(q()),$=y.a.div(W()),nn=y.a.div(K()),en=y.a.div(Q());var tn=function(n){var e=n.imageUrl,t=n.title,r=n.link,i=n.description,c=n.theftDate,o=n.reportDate,u=n.location;return a.a.createElement(V,null,a.a.createElement(Z,{alt:"bike picture",src:e||"/favicon.ico"}),a.a.createElement(Y,null,a.a.createElement(M.a,{to:r},t),a.a.createElement($,null,a.a.createElement(P.a,{lines:3,ellipsis:"..."},i)),a.a.createElement(nn,null,a.a.createElement("span",null,c.toDateString()," - ",u)),a.a.createElement(en,null,a.a.createElement("strong",null,"Updated:")," ",o.toDateString())))};function rn(n){var e=n.children;return a.a.createElement("span",{style:{color:"red"}},e)}function an(){var n=Object(j.a)(["\n  margin-bottom: 20px;\n"]);return an=function(){return n},n}function cn(){var n=Object(j.a)(["\n  text-align: right;\n  margin-bottom: 20px;\n"]);return cn=function(){return n},n}var on=y.a.div(cn()),un=Object(y.a)(A)(an()),ln=function(n){function e(){var n,t;Object(g.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=Object(O.a)(this,(n=Object(x.a)(e)).call.apply(n,[this].concat(a)))).searchIncidents=function(n){t.props.filterIndex(n)},t}return Object(E.a)(e,n),Object(v.a)(e,[{key:"componentDidMount",value:function(){this.props.loadIndex()}},{key:"render",value:function(){var n=this.props,e=n.totalCount,t=n.incidents,r=n.isLoading,i=n.error;return a.a.createElement(a.a.Fragment,null,a.a.createElement(un,{onSearch:this.searchIncidents,placeholder:"Search case descriptions"}),Boolean(e)&&a.a.createElement(on,null,"total: ",e),r&&"Loading...",!i&&!r&&0===t.length&&"No Results",Boolean(i)&&a.a.createElement(rn,null,"Ooops, something went wrong"),t.map(function(n){return a.a.createElement(tn,{key:n.id,imageUrl:n.media.image_url_thumb,title:n.title,link:"/case/".concat(n.id),location:n.address,description:n.description,theftDate:new Date(n.occurred_at),reportDate:new Date(n.updated_at)})}))}}]),e}(r.Component),dn=Object(o.b)(function(n){return{isLoading:z(n),incidents:F(n),totalCount:T(n),error:J(n)}},{loadIndex:function(){return function(n){n({type:"LOAD_INDEX_REQUEST"}),fetch("".concat(B,"/incidents?proximity=berlin")).then(R).then(function(n){return n.incidents||[]}).then(function(e){n(function(n){return{type:"LOAD_INDEX_SUCCESS",incidents:n}}(e))}).catch(function(e){n({type:"LOAD_INDEX_FAILURE",error:e.message})})}},filterIndex:function(n){return{type:"FILTER_INDEX",filterBy:n}}})(ln),sn=function(n){function e(){return Object(g.a)(this,e),Object(O.a)(this,Object(x.a)(e).apply(this,arguments))}return Object(E.a)(e,n),Object(v.a)(e,[{key:"render",value:function(){return"Details"}}]),e}(r.Component),fn=function(n){function e(){return Object(g.a)(this,e),Object(O.a)(this,Object(x.a)(e).apply(this,arguments))}return Object(E.a)(e,n),Object(v.a)(e,[{key:"render",value:function(){return"404 Page Not Found"}}]),e}(r.Component);function pn(){var n=Object(j.a)(["\n  padding: 2% 15% 2% 2%;\n"]);return pn=function(){return n},n}function mn(){var n=Object(j.a)(["\n  background: #000;\n  opacity: 0.9;\n"]);return mn=function(){return n},n}function bn(){var n=Object(j.a)(["\n  display: inline-block;\n  margin-left: 15px;\n"]);return bn=function(){return n},n}function hn(){var n=Object(j.a)(["\n  width: 60px;\n  height: 60px;\n"]);return hn=function(){return n},n}function gn(){var n=Object(j.a)(["\n  background: url(/img/illustration.png) center repeat;\n  background-size: contain;\n  height: 200px;\n  display: flex;\n  color: #fff;\n  padding: 2%;\n\n  h1,\n  h2 {\n    margin: 0;\n  }\n"]);return gn=function(){return n},n}function vn(){var n=Object(j.a)([""]);return vn=function(){return n},n}var On=y.a.div(vn()),xn=y.a.header(gn()),En=y.a.img(hn()),jn=y.a.div(bn()),yn=y.a.div(mn()),Dn=y.a.div(pn()),wn=function(n){function e(){return Object(g.a)(this,e),Object(O.a)(this,Object(x.a)(e).apply(this,arguments))}return Object(E.a)(e,n),Object(v.a)(e,[{key:"render",value:function(){return a.a.createElement(D.a,null,a.a.createElement(On,null,a.a.createElement(xn,null,a.a.createElement(En,{src:"/img/police-logo.svg"}),a.a.createElement(jn,null,a.a.createElement(yn,null,a.a.createElement("h1",null,"Police Department of Berlin"),a.a.createElement("h2",null,"Stolen bikes")))),a.a.createElement(Dn,null,a.a.createElement(w.a,null,a.a.createElement(k.a,{exact:!0,path:"/",component:dn}),a.a.createElement(k.a,{path:"/case/:id",component:sn}),a.a.createElement(k.a,{component:fn})))))}}]),e}(r.Component);c.a.render(a.a.createElement(o.a,{store:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(u.createStore)(b,n,Object(h.composeWithDevTools)(Object(u.applyMiddleware)(l.a)))}()},a.a.createElement(wn,null)),document.getElementById("root"))}},[[37,2,1]]]);
//# sourceMappingURL=main.70646e71.chunk.js.map