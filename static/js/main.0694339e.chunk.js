(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(n,e,t){n.exports=t(48)},44:function(n,e,t){},48:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),i=t(15),c=t.n(i),o=t(17),u=t(7),l=t(27),d=t(14),s={incidents:[],isLoading:!1,error:"",filterBy:""};var p=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"LOAD_INDEX_REQUEST":return Object(d.a)({},n,{incidents:[],isLoading:!0,error:""});case"LOAD_INDEX_SUCCESS":return Object(d.a)({},n,{isLoading:!1,incidents:e.incidents||[]});case"LOAD_INDEX_FAILURE":return Object(d.a)({},n,{isLoading:!1,error:e.error});case"FILTER_INDEX":return Object(d.a)({},n,{filterBy:e.filterBy});default:return n}},f={},h=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;arguments.length>1&&arguments[1];return n},m=Object(u.combineReducers)({index:p,details:h}),b=t(28);t(44);var g=t(8),v=t(9),x=t(11),O=t(10),E=t(12),j=t(2),y=t(3),D=t(50),w=t(52),k=t(51),L=t(33);function _(){var n=Object(j.a)(["\n  height: 44px;\n  width: 100px;\n  border: 1px solid #000;\n  margin-left: 15px;\n  box-shadow: 2px 2px;\n\n  &:active {\n    box-shadow: 0 0;\n  }\n"]);return _=function(){return n},n}function I(){var n=Object(j.a)(["\n  height: 40px;\n  width: 300px;\n  line-height: 1;\n  font-size: 16px;\n  vertical-align: middle;\n  padding-left: 5px;\n"]);return I=function(){return n},n}function S(){var n=Object(j.a)(["\n  font-size: 16px;\n  display: flex;\n  align-items: center;\n"]);return S=function(){return n},n}var C=y.a.div(S()),N=y.a.input(I()),U=y.a.button(_());var A=function(n){var e=n.onSearch,t=n.disabled,i=void 0!==t&&t,c=n.placeholder,o=void 0===c?"":c,u=n.searchValue,l=void 0===u?"":u,d=n.className,s=Object(r.useState)(l),p=Object(L.a)(s,2),f=p[0],h=p[1],m=function(){i||e(f)};return a.a.createElement(C,{className:d},a.a.createElement(N,{disabled:i,value:f,placeholder:o,onChange:function(n){return h(n.target.value)},onKeyUp:function(n){"Enter"===n.key&&m()}}),a.a.createElement(U,{onClick:function(){return m()}},"Find cases"))},B=function(n){return n.index.incidents},F=function(n){return n.index.incidents.length},R=function(n){return n.index.isLoading},T=function(n){return n.index.error},X=function(n){return n.index.filterBy},z="https://bikewise.org/api/v2/",J=function(n){if(!n.ok)throw new Error("".concat(n.status,": ").concat(n.statusText));return n.json()},M=function(){return function(n,e){var t=e(),r=X(t);n({type:"LOAD_INDEX_REQUEST"}),fetch("".concat(z,"/incidents?proximity=berlin&query=").concat(r)).then(J).then(function(n){return n.incidents||[]}).then(function(e){n(function(n){return{type:"LOAD_INDEX_SUCCESS",incidents:n}}(e))}).catch(function(e){n({type:"LOAD_INDEX_FAILURE",error:e.message})})}};var P=t(49),Q=t(31);function V(){var n=Object(j.a)(["\n  align-self: flex-end;\n"]);return V=function(){return n},n}function q(){var n=Object(j.a)(["\n  display: flex;\n  margin-bottom: 30px;\n"]);return q=function(){return n},n}function K(){var n=Object(j.a)(["\n  padding-top: 15px;\n  margin-bottom: 15px;\n  flex: 1;\n"]);return K=function(){return n},n}function W(){var n=Object(j.a)(["\n  border: 1px solid #000;\n  width: 150px;\n  height: 150px;\n  flex: 0 0 auto;\n"]);return W=function(){return n},n}function G(){var n=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  padding-left: 15px;\n  flex: 1;\n"]);return G=function(){return n},n}function H(){var n=Object(j.a)(["\n  display: flex;\n  height: 200px;\n  padding: 30px 15px;\n  border: 3px solid #000;\n  margin-bottom: 30px;\n"]);return H=function(){return n},n}var Y=y.a.div(H()),Z=y.a.div(G()),$=y.a.img(W()),nn=y.a.div(K()),en=y.a.div(q()),tn=y.a.div(V());var rn=function(n){var e=n.imageUrl,t=n.title,r=n.link,i=n.description,c=n.theftDate,o=n.reportDate,u=n.location;return a.a.createElement(Y,null,a.a.createElement($,{alt:"bike picture",src:e||"favicon.ico"}),a.a.createElement(Z,null,a.a.createElement(P.a,{to:r},t),a.a.createElement(nn,null,a.a.createElement(Q.a,{lines:3,ellipsis:"..."},i)),a.a.createElement(en,null,a.a.createElement("span",null,c.toDateString()," - ",u)),a.a.createElement(tn,null,a.a.createElement("strong",null,"Updated:")," ",o.toDateString())))};function an(n){var e=n.children;return a.a.createElement("span",{style:{color:"red"}},e)}function cn(){var n=Object(j.a)(["\n  margin-bottom: 20px;\n"]);return cn=function(){return n},n}function on(){var n=Object(j.a)(["\n  text-align: right;\n  margin-bottom: 20px;\n"]);return on=function(){return n},n}var un=y.a.div(on()),ln=Object(y.a)(A)(cn()),dn=function(n){function e(){var n,t;Object(g.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=Object(x.a)(this,(n=Object(O.a)(e)).call.apply(n,[this].concat(a)))).searchIncidents=function(n){t.props.applyFilter(n)},t}return Object(E.a)(e,n),Object(v.a)(e,[{key:"componentDidMount",value:function(){this.props.incidents.length||this.props.loadIndex()}},{key:"render",value:function(){var n=this.props,e=n.totalCount,t=n.incidents,r=n.isLoading,i=n.error,c=n.searchText;return a.a.createElement(a.a.Fragment,null,a.a.createElement(ln,{disabled:r,searchValue:c,onSearch:this.searchIncidents,placeholder:"Search case descriptions"}),Boolean(e)&&a.a.createElement(un,null,"total: ",e),r&&"Loading...",!i&&!r&&0===t.length&&"No Results",Boolean(i)&&a.a.createElement(an,null,"Ooops, something went wrong"),t.map(function(n){return a.a.createElement(rn,{key:n.id,imageUrl:n.media.image_url_thumb,title:n.title,link:"/case/".concat(n.id),location:n.address,description:n.description,theftDate:new Date(n.occurred_at),reportDate:new Date(n.updated_at)})}))}}]),e}(r.Component),sn=Object(o.b)(function(n){return{isLoading:R(n),incidents:B(n),totalCount:F(n),error:T(n),searchText:X(n)}},{loadIndex:M,applyFilter:function(n){return function(e,t){e({type:"FILTER_INDEX",filterBy:n}),M()(e,t)}}})(dn),pn=function(n){function e(){return Object(g.a)(this,e),Object(x.a)(this,Object(O.a)(e).apply(this,arguments))}return Object(E.a)(e,n),Object(v.a)(e,[{key:"render",value:function(){return"Details"}}]),e}(r.Component),fn=function(n){function e(){return Object(g.a)(this,e),Object(x.a)(this,Object(O.a)(e).apply(this,arguments))}return Object(E.a)(e,n),Object(v.a)(e,[{key:"render",value:function(){return"404 Page Not Found"}}]),e}(r.Component);function hn(){var n=Object(j.a)(["\n  padding: 2% 15% 2% 2%;\n"]);return hn=function(){return n},n}function mn(){var n=Object(j.a)(["\n  background: #000;\n  opacity: 0.9;\n"]);return mn=function(){return n},n}function bn(){var n=Object(j.a)(["\n  display: inline-block;\n  margin-left: 15px;\n"]);return bn=function(){return n},n}function gn(){var n=Object(j.a)(["\n  width: 60px;\n  height: 60px;\n"]);return gn=function(){return n},n}function vn(){var n=Object(j.a)(["\n  background: url(img/illustration.png) center repeat;\n  background-size: contain;\n  height: 200px;\n  display: flex;\n  color: #fff;\n  padding: 2%;\n\n  h1,\n  h2 {\n    margin: 0;\n  }\n"]);return vn=function(){return n},n}function xn(){var n=Object(j.a)([""]);return xn=function(){return n},n}var On=y.a.div(xn()),En=y.a.header(vn()),jn=y.a.img(gn()),yn=y.a.div(bn()),Dn=y.a.div(mn()),wn=y.a.div(hn()),kn=function(n){function e(){return Object(g.a)(this,e),Object(x.a)(this,Object(O.a)(e).apply(this,arguments))}return Object(E.a)(e,n),Object(v.a)(e,[{key:"render",value:function(){return a.a.createElement(D.a,{basename:"/coding-challenge-frontend-react"},a.a.createElement(On,null,a.a.createElement(En,null,a.a.createElement(jn,{src:"img/police-logo.svg"}),a.a.createElement(yn,null,a.a.createElement(Dn,null,a.a.createElement("h1",null,"Police Department of Berlin"),a.a.createElement("h2",null,"Stolen bikes")))),a.a.createElement(wn,null,a.a.createElement(w.a,null,a.a.createElement(k.a,{exact:!0,path:"/",component:sn}),a.a.createElement(k.a,{path:"/case/:id",component:pn}),a.a.createElement(k.a,{component:fn})))))}}]),e}(r.Component);c.a.render(a.a.createElement(o.a,{store:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(u.createStore)(m,n,Object(b.composeWithDevTools)(Object(u.applyMiddleware)(l.a)))}()},a.a.createElement(kn,null)),document.getElementById("root"))}},[[36,2,1]]]);
//# sourceMappingURL=main.0694339e.chunk.js.map